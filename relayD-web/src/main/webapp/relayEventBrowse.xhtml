<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions">

<h:head>
	<link
		rel="stylesheet"
		href="./styles/relayd.css"></link>
	<link
		rel="icon"
		href="http://relayd.de:8080/relayD-web/favicon.ico" />
</h:head>
<h:body>

	<h:form id="form">
		<p:growl
			id="growl"
			showDetail="true" />
		
		<p:layout fullPage="true">
		
			<p:layoutUnit
				position="north"
				resizable="false"
				size="166">
				<div class="divStartHeader"></div>
			</p:layoutUnit>
			
			
			<p:layoutUnit
				position="center"
				style="height:100%">
					
				<p:toolbar>
					<f:facet name="left">
						<p:commandButton
							update="form"
							icon="ui-icon-plus">
							<p:ajax
								event="dialogReturn"
								update="form" />
						</p:commandButton>
						<p:commandButton
							icon="ui-icon-pencil"
							update="form">
							<p:ajax
								event="dialogReturn"
								update="form" />
						</p:commandButton>
						
					</f:facet>
				</p:toolbar>
					
				<p:dataTable
					var="relayEvent"
					id="relayEventTable"
					value="#{relayEventBrowsePageBean.relayEvents}"
					selection="#{relayEventBrowsePageBean.selectedRelayEvent}"
					scrollable="true"
					scrollHeight="92%"
					rowKey="#{relayEvent.uuid}"
					resizableColumns="true">
					<f:facet name="header">
			        	List of Events
			    	</f:facet>
			    	
			    	<p:column
						visible="true"
						toggleable="false"
						width="2%">
						<p:rowToggler />
					</p:column>
		
					<p:column
						headerText="Date"
						width="10%">
						<h:outputText
							value="#{relayEvent.eventDay}"
							style="float:center" />
					</p:column>
		
					<p:column 
						headerText="Event"
						width="58%">
						<h:outputText value="#{relayEvent.name}" />
					</p:column>
		
					<p:column
						headerText="Max. Relays"
						width="10%">
						<h:outputText
							value="#{relayEvent.maxNumberOfRelays}"
							style="float:right" />
					</p:column>
		
					<p:column
						headerText="Participant Relays"
						width="10%">
						<h:outputText
							value="#{relayEvent.numberOfRelays}"
							style="float:right" />
					</p:column>
					
					<p:rowExpansion styleClass="width:50%">
						<p:panelGrid
							columns="2"
							columnClasses="label,value"
							style="width:40%">
							
							<h:outputText value="Distance first track" />
							<h:outputText style="float:right" value="#{relayEvent.trackDistanceOne}" />
							<h:outputText value="Distance second track" />
							<h:outputText style="float:right" value="#{relayEvent.trackDistanceTwo}" />
							<h:outputText value="Distance third track" />
							<h:outputText style="float:right" value="#{relayEvent.trackDistanceThree}" />
							<h:outputText value="Distance forth track" />
							<h:outputText style="float:right" value="#{relayEvent.trackDistanceFour}" />
						    
						</p:panelGrid>
						<p:panelGrid
							columns="1"
							columnClasses="label"
							style="width:40%">
							<p:graphicImage value="images/tracks2017.png" width="100%" height="100%"/>
						</p:panelGrid>
		
					</p:rowExpansion>
				</p:dataTable>

			</p:layoutUnit>
			
			<p:layoutUnit
				position="south"
				resizable="false"
				size="52">
			</p:layoutUnit>
			
		</p:layout>
		
		

		<ui:include src="/dock.xhtml" />

	</h:form>
</h:body>
</html>